\begin{figure}[!htbp]
\centering
\begin{tikzpicture}[thick]
  \begin{umlseqdiag}
    \umlactor[scale=0.6,no ddots,fill=white!0]{Alice}
    \umlobject[no ddots,fill=white!0,x=2]{ERC820 Registry}
    \umlobject[class=ERC777TokensRecipient,fill=white!0,x=9]{Carlos}
    \begin{umlcall}[dt=6,draw=BrickRed,fill=BrickRed!20,op={Contract Creation}]{Alice}{Carlos}
    \begin{umlcall}[dt=8,draw=MidnightBlue,fill=MidnightBlue!20,op={\shortstack[l]{setInterfaceImplementer(\\\qquad Carlos, ERC777TokensRecipient, Carlos)}}]{Carlos}{ERC820 Registry}
      \begin{umlcallself}[draw=MidnightBlue,fill=MidnightBlue!40,op={getManager(Carlos)},return=Carlos]{ERC820 Registry}
      \end{umlcallself}
    \end{umlcall}
    \end{umlcall}
  \end{umlseqdiag}
  \filldraw[draw=BrickRed,fill=BrickRed!20] (0,-4.5) circle (.2);
  \node at (1.2,-4.5) {Transaction};
  \filldraw[draw=MidnightBlue,fill=MidnightBlue!20] (3,-4.5) circle (.2);
  \node at (3.6,-4.5) {Call};
\end{tikzpicture}
\caption{Example of a regular account (Alice) deploying a contract (Carlos) which register itself as its own implementation of the \texttt{ERC777TokensRecipient} interface.}
\label{fig:erc820SelfRegister}
\end{figure}
